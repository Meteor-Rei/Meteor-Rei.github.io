<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="西纳普斯" href="https://github.com/Meteor-Rei/Meteor-Rei.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="西纳普斯" href="https://github.com/Meteor-Rei/Meteor-Rei.github.io/atom.xml"><link rel="alternate" type="application/json" title="西纳普斯" href="https://github.com/Meteor-Rei/Meteor-Rei.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.1.7"><meta name="keywords" content="spring5"><meta name="description" content="一个上大学的朋友罢了"><link rel="canonical" href="https://github.com/Meteor-Rei/Meteor-Rei.github.io/computer-science/spring5/spring5-4-Ioc-3/"><title>spring5-4 IoC-3 - spring5 - 计算机科学 | Meteor Rei = 西纳普斯 = 一篇博客</title><meta name="generator" content="Hexo 5.2.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">spring5-4 IoC-3</h1><div class="meta"><span class="item" title="创建时间：2020-10-02 10:46:25"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2020-10-02T10:46:25+08:00">2020-10-02</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>5.7k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>5 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Meteor Rei</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1gipesrnqv3j20zk0m8ava.jpg"></li><li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1gipeudstjqj20zk0m8k3r.jpg"></li><li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1giclh5u05ej20zk0m87df.jpg"></li><li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1giclhtuo6nj20zk0m8ttm.jpg"></li><li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1gicm0fdw5cj20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1gipeybxm1pj20zk0m8niv.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main id="main"><div class="inner"><div id="content" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/" itemprop="item" rel="index" title="分类于 计算机科学"><span itemprop="name">计算机科学</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/spring5/" itemprop="item" rel="index" title="分类于 spring5"><span itemprop="name">spring5</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://github.com/Meteor-Rei/Meteor-Rei.github.io/computer-science/spring5/spring5-4-Ioc-3/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Meteor Rei"><meta itemprop="description" content="一篇博客, 一个上大学的朋友罢了"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="西纳普斯"></span><div class="body md" itemprop="articleBody"><h1 id="ioc-3"><a class="anchor" href="#ioc-3">#</a> Ioc-3</h1><h2 id="自动装配"><a class="anchor" href="#自动装配">#</a> 自动装配</h2><p>:::info</p><p>自动装配是使用 spring 满足 bean 依赖的一种方法，spring 会在上下文中为某个 bean 找到需要的 bean。</p><p>:::</p><p>Spring 中 bean 有三种装配机制，分别是：</p><ol><li>在 xml 中显式配置；</li><li>在 java 中显式配置；</li><li>隐式的 bean 发现机制和自动装配。</li></ol><p>主要说说第三种：自动化的装配 bean。</p><p>Spring 的自动装配需要从两个角度来实现，或者说是两个操作：</p><ol><li>组件扫描 (component scanning)：spring 会自动发现应用上下文中所创建的 bean；</li><li>自动装配 (autowiring)：spring 自动满足 bean 之间的依赖，也就是我们说的 IoC/DI；</li></ol><p>组件扫描和自动装配组合发挥巨大威力，使得显示的配置降低到最少。</p><p><strong>推荐不使用自动装配 xml 配置，而使用注解 。</strong></p><p>:::info</p><p>为了之后的说明这里先创建几个实体类</p><p>:::</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">Dog</span> dog<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">Cat</span> cat<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"miao"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"wang"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>然后编写 xml 装配</p><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cat<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.Meteor.pojo.Cat<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ss<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dog<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.Meteor.pojo.Dog<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zed<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>people<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.Meteor.pojo.People<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cat<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cat<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dog<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dog<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fager<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><p>以上是我们之前学习过的写法，接下来进入自动装配正题。</p><h3 id="autowire-byname-按名称自动装配"><a class="anchor" href="#autowire-byname-按名称自动装配">#</a> autowire byName (按名称自动装配)</h3><p>由于在手动配置 xml 过程中，常常发生字母缺漏和大小写等错误，而无法对其进行检查，使得开发效率降低。</p><p>采用自动装配将避免这些错误，并且使配置简单化。</p><p>1. 修改 People 的 bean 设置</p><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>people<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.Meteor.pojo.People<span class="token punctuation">"</span></span> <span class="token attr-name">autowire</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>byName<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fager<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><p>2. 这个时候我们测试，发现与之前出现相同的结果</p><p>3. 如果我们将 cat 的 bean 的 id 改为 “catsdfasfasd”，再次进行测试</p><p>4. 再次测试， 执行时报空指针 java.lang.NullPointerException。因为按 byName 规则找不对应 set 方法，真正的 setCat 就没执行，对象就没有初始化，所以调用时就会报空指针错误。</p><p><strong>本质</strong>：</p><p>当一个 bean 节点带有 autowire byName 的属性时。</p><ol><li>将查找其类中所有的 set 方法名，例如 setCat，获得将 set 去掉并且首字母小写的字符串，即 cat。</li><li>去 spring 容器中寻找是否有此字符串名称 id 的对象。</li><li>如果有，就取出注入；如果没有，就报空指针异常。</li></ol><h3 id="autowire-bytype-按类型自动装配"><a class="anchor" href="#autowire-bytype-按类型自动装配">#</a> autowire byType (按类型自动装配)</h3><p>使用 autowire byType 首先需要保证：同一类型的对象，在 spring 容器中唯一。如果不唯一，会报不唯一的异常。</p><p>NoUniqueBeanDefinitionException</p><p>测试：</p><p>1. 将 xml 改成这样</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"cat"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.Meteor.pojo.Cat"</span><span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre>        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"name"</span> value<span class="token operator">=</span><span class="token string">"ss"</span><span class="token operator">/</span><span class="token operator">></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span></pre></td></tr><tr><td data-num="4"></td><td><pre>     <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"cat2"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.Meteor.pojo.Cat"</span><span class="token operator">></span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"name"</span> value<span class="token operator">=</span><span class="token string">"sss"</span><span class="token operator">/</span><span class="token operator">></span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"dog"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.Meteor.pojo.Dog"</span><span class="token operator">></span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"name"</span> value<span class="token operator">=</span><span class="token string">"zed"</span><span class="token operator">/</span><span class="token operator">></span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"people"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.Meteor.pojo.People"</span> autowire<span class="token operator">=</span><span class="token string">"byType"</span> <span class="token operator">></span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"name"</span> value<span class="token operator">=</span><span class="token string">"fager"</span><span class="token operator">/</span><span class="token operator">></span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span></pre></td></tr></table></figure><p>2. 这样会导致报错，因为出现了两个 Cat 的对象</p><p>3. 这个时候改成这样，你的 cat 的 id 再怎么离谱也能识别到</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"cat2sdfasdfasdfasfs"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.Meteor.pojo.Cat"</span><span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre>        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"name"</span> value<span class="token operator">=</span><span class="token string">"sss"</span><span class="token operator">/</span><span class="token operator">></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"dog"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.Meteor.pojo.Dog"</span><span class="token operator">></span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"name"</span> value<span class="token operator">=</span><span class="token string">"zed"</span><span class="token operator">/</span><span class="token operator">></span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"people"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.Meteor.pojo.People"</span> autowire<span class="token operator">=</span><span class="token string">"byType"</span> <span class="token operator">></span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"name"</span> value<span class="token operator">=</span><span class="token string">"fager"</span><span class="token operator">/</span><span class="token operator">></span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span></pre></td></tr></table></figure><p>然而个人感觉这个非常的捞，反正我是肯定不会用的。</p><p><img data-src="https://i.loli.net/2020/10/01/J3WdTmsReK8AnvX.png" alt=""></p><h3 id="使用注解重点"><a class="anchor" href="#使用注解重点">#</a> 使用注解 (重点)</h3><p>准备工作：利用注解的方式注入属性。</p><p>1、在 spring 配置文件中引入 context 文件头</p><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre>xmlns:context="http://www.springframework.org/schema/context"</pre></td></tr><tr><td data-num="2"></td><td><pre>http://www.springframework.org/schema/context</pre></td></tr><tr><td data-num="3"></td><td><pre>http://www.springframework.org/schema/context/spring-context.xsd</pre></td></tr></table></figure><p>2、开启属性注解支持！</p><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>annotation-config</span><span class="token punctuation">/></span></span></pre></td></tr></table></figure><h4 id="autowired"><a class="anchor" href="#autowired">#</a> @Autowired</h4><ul><li>@Autowired 是按类型自动转配的，不支持 id 匹配。</li><li>需要导入 spring-aop 的包！</li></ul><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-aop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.2.6.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><p>1、将 User 类中的 set 方法去掉，使用 @Autowired 注解</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token annotation punctuation">@Autowired</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">Dog</span> dog<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token annotation punctuation">@Autowired</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">Cat</span> cat<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>2.xml 配置文件</p><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cat<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.Meteor.pojo.Cat<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dog<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.Meteor.pojo.Dog<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>people<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.Meteor.pojo.People<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr></table></figure><p>3. 最后正常运行。</p><p>:::info</p><p>@Autowired (required=false) 说明：false，对象可以为 null；true，对象必须存对象，不能为 null。默认为 true。</p><p>:::</p><h4 id="qualifier"><a class="anchor" href="#qualifier">#</a> @Qualifier</h4><ul><li>@Autowired 是根据类型自动装配的，加上 @Qualifier 则可以根据 byName 的方式自动装配</li><li>@Qualifier 不能单独使用。</li></ul><p>1、配置文件修改内容，保证类型存在对象。且名字不为类的默认名字！</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"dog1"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.Meteor.pojo.Dog"</span><span class="token operator">/</span><span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"dog2"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.Meteor.pojo.Dog"</span><span class="token operator">/</span><span class="token operator">></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"cat1"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.Meteor.pojo.Cat"</span><span class="token operator">/</span><span class="token operator">></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"cat2"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.Meteor.pojo.Cat"</span><span class="token operator">/</span><span class="token operator">></span></pre></td></tr></table></figure><p>2、没有加 Qualifier 测试，直接报错</p><p>3、在属性上添加 Qualifier 注解</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Autowired</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"cat2"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">private</span> <span class="token class-name">Cat</span> cat<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token annotation punctuation">@Autowired</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"dog2"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">private</span> <span class="token class-name">Dog</span> dog<span class="token punctuation">;</span></pre></td></tr></table></figure><p>测试，成功输出！</p><h4 id="resource"><a class="anchor" href="#resource">#</a> @Resource</h4><ul><li>@Resource 如有指定的 name 属性，先按该属性进行 byName 方式查找装配；</li><li>其次再进行默认的 byName 方式进行装配；</li><li>如果以上都不成功，则按 byType 的方式自动装配。</li><li>都不成功，则报异常</li></ul><p>实体类</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 如果允许对象为 null，设置 required = false, 默认为 true</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token annotation punctuation">@Resource</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"cat2"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">private</span> <span class="token class-name">Cat</span> cat<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token annotation punctuation">@Resource</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">private</span> <span class="token class-name">Dog</span> dog<span class="token punctuation">;</span></pre></td></tr></table></figure><p>beans.xml</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"dog1"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.Meteor.pojo.Dog"</span><span class="token operator">/</span><span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"dog2"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.Meteor.pojo.Dog"</span><span class="token operator">/</span><span class="token operator">></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"cat1"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.Meteor.pojo.Cat"</span><span class="token operator">/</span><span class="token operator">></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"user"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.Meteor.pojo.User"</span><span class="token operator">/</span><span class="token operator">></span></pre></td></tr></table></figure><p>纵使如此，也依旧能够识别到，这就体现出来了先用 byName 再是 byType。</p><h2 id="注解开发整合"><a class="anchor" href="#注解开发整合">#</a> 注解开发整合</h2><p>配置扫描哪些包下的注解</p><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">&lt;!-- 指定注解扫描包 --></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.Meteor.pojo<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr></table></figure><h3 id="bean的实现"><a class="anchor" href="#bean的实现">#</a> bean 的实现</h3><p>在指定包下编写类，增加注解</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 相当于配置文件中 &lt;bean id="user" class="当前注解的类"/></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token keyword">public</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">"fager"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="属性注入"><a class="anchor" href="#属性注入">#</a> 属性注入</h3><p>使用注解注入属性</p><p>1、可以不用提供 set 方法，直接在直接名上添加 @value (&quot;值&quot;)</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 相当于配置文件中 &lt;bean id="user" class="当前注解的类"/></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"fager"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>   <span class="token comment">// 相当于配置文件中 &lt;property name="name" value="fager"/></span></pre></td></tr><tr><td data-num="6"></td><td><pre>   <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>2、如果提供了 set 方法，在 set 方法上添加 @value (&quot;值&quot;);</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"fager"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>       <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="bean的自动装配"><a class="anchor" href="#bean的自动装配">#</a> bean 的自动装配</h3><p>略（如果你问我为什么，那么这波我只能给你 0 分）</p><p><img data-src="https://i.loli.net/2020/10/02/kA4hf7aeURvi2YO.png" alt=""></p><h3 id="衍生注解"><a class="anchor" href="#衍生注解">#</a> 衍生注解</h3><p>我们这些注解，就是替代了在配置文件当中配置步骤而已！更加的方便快捷！</p><p><strong>@Component 三个衍生注解</strong></p><p>为了更好的进行分层，Spring 可以使用其它三个注解，功能一样，目前使用哪一个功能都一样。</p><ul><li>@Controller：web 层</li><li>@Service：service 层</li><li>@Repository：dao 层</li></ul><p>写上这些注解，就相当于将这个类交给 Spring 管理装配了！</p><h3 id="作用域"><a class="anchor" href="#作用域">#</a> 作用域</h3><p>@scope</p><ul><li>singleton：默认的，Spring 会采用单例模式创建这个对象。关闭工厂 ，所有的对象都会销毁。</li><li>prototype：多例模式。关闭工厂 ，所有的对象不会销毁。内部的垃圾回收机制会回收</li></ul><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token annotation punctuation">@Scope</span><span class="token punctuation">(</span><span class="token string">"prototype"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"fager"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>   <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="总结"><a class="anchor" href="#总结">#</a> 总结</h3><p><strong>XML 与注解比较</strong></p><ul><li>XML 可以适用任何场景 ，结构清晰，维护方便</li><li>注解不是自己提供的类使用不了，例如之后事务和 AOP 需要用到，但是开发简单方便</li></ul><p><strong>xml 与注解整合开发</strong> ：推荐最佳实践</p><ul><li>xml 管理 Bean</li><li>注解完成属性注入</li><li>使用过程中，可以不用扫描，扫描是为了类上的注解</li></ul><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>annotation-config</span><span class="token punctuation">/></span></span></pre></td></tr></table></figure><p>作用：</p><ul><li>进行注解驱动注册，从而使注解生效。</li><li>用于激活那些已经在 spring 容器里注册过的 bean 上面的注解，也就是显式的向 Spring 注册</li><li>如果不扫描包，就需要手动配置 bean</li></ul><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">&lt;!-- 指定注解扫描包 --></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.Meteor.pojo<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr></table></figure><ul><li>如果不加注解驱动，则注入的值为 null (因为这个东西你都没配，你的 spring 容器都不支持使用注解)</li></ul><div class="tags"><a href="/tags/spring5/" rel="tag"><i class="ic i-tag"></i> spring5</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2020-10-11 19:18:44" itemprop="dateModified" datetime="2020-10-11T19:18:44+08:00">2020-10-11</time> </span><span id="computer-science/spring5/spring5-4-Ioc-3/" class="item leancloud_visitors" data-flag-title="spring5-4 IoC-3" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Meteor Rei <i class="ic i-at"><em>@</em></i>西纳普斯</li><li class="link"><strong>本文链接：</strong> <a href="https://github.com/Meteor-Rei/Meteor-Rei.github.io/computer-science/spring5/spring5-4-Ioc-3/" title="spring5-4 IoC-3">https://github.com/Meteor-Rei/Meteor-Rei.github.io/computer-science/spring5/spring5-4-Ioc-3/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="nav"><div class="item left"><a href="/computer-science/spring5/spring5-3-Ioc-2/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva2.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipetv6p75j20zk0m8x6p.jpg" title="spring5-3 IoC-2"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> spring5</span><h3>spring5-3 IoC-2</h3></a></div><div class="item right"><a href="/computer-science/spring5/spring5-5-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva2.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipexoj0moj20zk0m8kgu.jpg" title="spring5-5 代理模式"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> spring5</span><h3>spring5-5 代理模式</h3></a></div></div><div class="wrap" id="comments" data-id="computer-science/spring5/spring5-4-Ioc-3/"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ioc-3"><span class="toc-number">1.</span> <span class="toc-text">Ioc-3</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D"><span class="toc-number">1.1.</span> <span class="toc-text">自动装配</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#autowire-byname-%E6%8C%89%E5%90%8D%E7%A7%B0%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D"><span class="toc-number">1.1.1.</span> <span class="toc-text">autowire byName (按名称自动装配)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#autowire-bytype-%E6%8C%89%E7%B1%BB%E5%9E%8B%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D"><span class="toc-number">1.1.2.</span> <span class="toc-text">autowire byType (按类型自动装配)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E9%87%8D%E7%82%B9"><span class="toc-number">1.1.3.</span> <span class="toc-text">使用注解 (重点)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#autowired"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">@Autowired</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#qualifier"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">@Qualifier</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#resource"><span class="toc-number">1.1.3.3.</span> <span class="toc-text">@Resource</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%E6%95%B4%E5%90%88"><span class="toc-number">1.2.</span> <span class="toc-text">注解开发整合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#bean%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.2.1.</span> <span class="toc-text">bean 的实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E6%B3%A8%E5%85%A5"><span class="toc-number">1.2.2.</span> <span class="toc-text">属性注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bean%E7%9A%84%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D"><span class="toc-number">1.2.3.</span> <span class="toc-text">bean 的自动装配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%8D%E7%94%9F%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.2.4.</span> <span class="toc-text">衍生注解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">1.2.5.</span> <span class="toc-text">作用域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.2.6.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/computer-science/spring5/spring5-1-%E4%BB%8B%E7%BB%8D/" rel="bookmark" title="spring5-1 介绍">spring5-1 介绍</a></li><li><a href="/computer-science/spring5/spring5-2-Ioc-1/" rel="bookmark" title="spring5-2 IoC-1">spring5-2 IoC-1</a></li><li><a href="/computer-science/spring5/spring5-3-Ioc-2/" rel="bookmark" title="spring5-3 IoC-2">spring5-3 IoC-2</a></li><li class="active"><a href="/computer-science/spring5/spring5-4-Ioc-3/" rel="bookmark" title="spring5-4 IoC-3">spring5-4 IoC-3</a></li><li><a href="/computer-science/spring5/spring5-5-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/" rel="bookmark" title="spring5-5 代理模式">spring5-5 代理模式</a></li><li><a href="/computer-science/spring5/spring5-6-Aop/" rel="bookmark" title="spring5-6 Aop">spring5-6 Aop</a></li><li><a href="/computer-science/spring5/spring5-7-%E6%95%B4%E5%90%88mybatis/" rel="bookmark" title="spring5-7 整合mybatis">spring5-7 整合mybatis</a></li><li><a href="/computer-science/spring5/spring5-8-%E4%BA%8B%E5%8A%A1/" rel="bookmark" title="spring5-8 事务">spring5-8 事务</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Meteor Rei" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Meteor Rei</p><div class="description" itemprop="description">一个上大学的朋友罢了</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">10</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">2</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">2</span> <span class="name">标签</span></a></div></nav><div class="social"><a href="https://github.com/Meteor-Rei" title="https:&#x2F;&#x2F;github.com&#x2F;Meteor-Rei" class="item github"><i class="ic i-github"></i></a> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9tZXRlb3ItOTctMjU=" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;meteor-97-25"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTQwOTM4MzQxNw==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;409383417"><i class="ic i-cloud-music"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友達</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>网址</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/computer-science/spring5/spring5-3-Ioc-2/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/computer-science/spring5/spring5-5-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/hello-world/" title="Hello World">Hello World</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/spring5/" title="分类于 spring5">spring5</a></div><span><a href="/computer-science/spring5/spring5-3-Ioc-2/" title="spring5-3 IoC-2">spring5-3 IoC-2</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/spring5/" title="分类于 spring5">spring5</a></div><span><a href="/computer-science/spring5/spring5-1-%E4%BB%8B%E7%BB%8D/" title="spring5-1 介绍">spring5-1 介绍</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/spring5/" title="分类于 spring5">spring5</a></div><span><a href="/computer-science/spring5/spring5-7-%E6%95%B4%E5%90%88mybatis/" title="spring5-7 整合mybatis">spring5-7 整合mybatis</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/spring5/" title="分类于 spring5">spring5</a></div><span><a href="/computer-science/spring5/spring5-2-Ioc-1/" title="spring5-2 IoC-1">spring5-2 IoC-1</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/spring5/" title="分类于 spring5">spring5</a></div><span><a href="/computer-science/spring5/spring5-6-Aop/" title="spring5-6 Aop">spring5-6 Aop</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/spring5/" title="分类于 spring5">spring5</a></div><span><a href="/computer-science/spring5/spring5-5-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/" title="spring5-5 代理模式">spring5-5 代理模式</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/spring5/" title="分类于 spring5">spring5</a></div><span><a href="/computer-science/spring5/spring5-8-%E4%BA%8B%E5%8A%A1/" title="spring5-8 事务">spring5-8 事务</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/spring5/" title="分类于 spring5">spring5</a></div><span><a href="/computer-science/spring5/spring5-4-Ioc-3/" title="spring5-4 IoC-3">spring5-4 IoC-3</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/Java%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%8C%85%E8%A3%85%E7%B1%BB/" title="Java基本类型和封装类">Java基本类型和封装类</a></span></li></ul></div><div id="rcomment"><h2>最新评论</h2></div></div><div class="status"><div class="copyright">&copy; <span itemprop="copyrightYear">2020</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Meteor Rei @ Meteor Rei</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">35k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">32 分钟</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<a href="https://github.com/amehime/hexo-theme-shoka">Shoka</a></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"https://github.com/Meteor-Rei/Meteor-Rei.github.io/computer-science/spring5/spring5-4-Ioc-3/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 ${query} ，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return e===LOCAL.path}]}</script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/velocity-animate@1.5.2/velocity.min.js,npm/velocity-animate@1.5.2/velocity.ui.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js,npm/leancloud-storage@3/dist/av-min.js"></script><script src="/js/app.js?v=0.1.7"></script></body></html>